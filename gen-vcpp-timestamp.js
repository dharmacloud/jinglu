/*
from: https://docs.google.com/spreadsheets/d/1MVVBbS60aHA1QfQrj9n9ghuUiy5rx6F1rNDBKFa2Ti8/edit#gid=532868174
*/
import {writeChanged,nodefs} from 'ptk/nodebundle.cjs'
await nodefs
const parseTime=str=>{
    let [m,s]=str.trim().split(':');
    return parseInt(m)*60+parseInt(s);
}

const dump=()=>{
    let prev=0,out=[];
    for (let  n in tracks) {
        const lines=tracks[n].split(/\r?\n/);
        prev=parseTime(lines[0]);
        const times=[];
        times.push(prev);
        for (let j=1;j<lines.length;j++) {
            const t=parseTime(lines[j]);
            if (t<prev) {
                throw "wrong time stamp "+lines[j];
            }
            times.push(t-prev);
            prev=t;
        }
        out.push('const '+n+'=['+ times.join(',')+']')
    }
    writeChanged('timestamp.txt', out.join('\n') ,true)
}


const venxinding=`7:05
7:05
7:10
7:20
7:29
7:38
7:47
7:56
8:05
8:14
8:22
8:30
8:38
8:46
8:54
9:02
9:10
9:17
9:25
9:33
9:41
9:50
9:57
10:04
10:12
10:19
10:27
10:34
10:41
10:49
10:56
11:04
11:11
11:18
11:26
11:33
11:40
11:47
11:55
12:02
12:09
12:16
12:23
12:30
12:37
12:44
12:51
12:59
13:06
13:12
13:19
13:27
13:33
13:40
13:47
13:54
14:02
14:09
14:15
14:22
14:29
14:36
14:43
14:50
14:56
15:03
15:09
15:16
15:22
15:29
15:35
15:41
15:48
15:54
16:01
16:08
16:14
16:20
16:26
16:32
16:39
16:45
16:51
16:58
17:04
17:10
17:16
17:22
17:28
17:34
17:40
17:46
17:52
17:59
18:05
18:11
18:17
18:23
18:29
18:35
18:41
18:47
18:53
18:59
19:07
19:13
19:19
19:25
19:30
19:36
19:42
19:48
19:54
20:00
20:06
20:11
20:17
20:23
20:29
20:34
20:40
20:46
20:51
20:57
21:04
21:09
21:15
21:20
21:26
21:31
21:39
21:45
21:50
21:56
22:01
22:07
22:13
22:18
22:24
22:29
22:35
22:40
22:46
22:51
22:57
23:02
23:08
23:13
23:18
23:23
23:29
23:34
23:39
23:45
23:50
23:56
24:01
24:07
24:12
24:17
24:22
24:28
24:33
24:38
24:44
24:49
24:55
25:00
25:05
25:10
25:15
25:20
25:26
25:31
25:36
25:41
25:46
25:52
25:57
26:02
26:07
26:12
26:18
26:23
26:28
26:33
26:38
26:43
26:49
26:54
26:59
27:04
27:09
27:14
27:19
27:24
27:29
27:34
27:39
27:44
27:49
27:55
28:00
28:05
28:10
28:15
28:20
28:25
28:30
28:35
28:40
28:45
28:50
28:55
28:59
29:04
29:09
29:14
29:19
29:24
29:29
29:34
29:39
29:44
29:49
29:54
29:58
30:03
30:08
30:13
30:18
30:23
30:28
30:33
30:38
30:43
30:48
30:52
30:57
31:02
31:07
31:12
31:17
31:21
31:26
31:31
31:36
31:40
31:45
31:50
31:55
32:00
32:04
32:09
32:14
32:18
32:23
32:28
32:33
32:37
32:42
32:48
32:53
32:57
33:02
33:05
33:09
33:11
33:15
33:20
33:25
33:30
33:34
33:39
33:44
33:48
33:53
33:58
34:02
34:07
34:12
34:17
34:21
34:26
34:31
34:36
34:40
34:45
34:50
34:55
34:59
35:04
35:09
35:13
35:18
35:22
35:27
35:31
35:36
35:40
35:45
35:50
35:54
35:55
35:59
36:01
36:05
36:10
36:18`
const tracks={venxinding};
dump();